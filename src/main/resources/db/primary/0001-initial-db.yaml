databaseChangeLog:
  - changeSet:
      id: 1
      author: kyutae
      changes:
        - createTable:
            tableName: workers
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: nick_name
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
                    unique: true
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: name
            indexName: idx_workers_name
            tableName: workers
        - createIndex:
            columns:
              - column:
                  name: nick_name
            indexName: idx_workers_nick_name
            tableName: workers
            unique: true

        - createTable:
            tableName: record_groups
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: color
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: is_default
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: public_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: type
                  type: VARCHAR(32)
                  constraints:
                    nullable: false
              - column:
                  name: priority
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: public_id
            indexName: idx_record_groups_public_id
            tableName: record_groups
        - createIndex:
            columns:
              - column:
                  name: worker_id
            indexName: idx_record_groups_worker_id
            tableName: record_groups

        - createTable:
            tableName: records
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: record_group_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: true
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: title
            indexName: idx_records_title
            tableName: records
        - createIndex:
            columns:
              - column:
                  name: record_group_id
            indexName: idx_records_record_group_id
            tableName: records
        - createIndex:
            columns:
              - column:
                  name: record_group_id
              - column:
                  name: started_at
            indexName: idx_records_record_group_id_started_at
            tableName: records

        - createTable:
            tableName: worker_record_groups
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: public_id
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: record_group_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: public_id
            indexName: idx_worker_record_groups_public_id
            tableName: worker_record_groups
        - createIndex:
            columns:
              - column:
                  name: worker_id
            indexName: idx_worker_record_groups_worker_id
            tableName: worker_record_groups
        - createIndex:
            columns:
              - column:
                  name: record_group_id
            indexName: idx_worker_record_groups_record_group_id
            tableName: worker_record_groups
        - createIndex:
            columns:
              - column:
                  name: worker_id
              - column:
                  name: record_group_id
            indexName: idx_worker_record_groups_worker_id_record_group_id
            tableName: worker_record_groups

        - createTable:
            tableName: resumes
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: phone
                  type: VARCHAR(32)
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: job
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: birth_date
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: gender
                  type: VARCHAR(24)
                  constraints:
                    nullable: true
              - column:
                  name: public_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: is_public
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: is_default
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: worker_id
            indexName: idx_resumes_type_worker_id
            tableName: resumes

        - createTable:
            tableName: careers
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: position
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: employment_type
                  type: VARCHAR(32)
                  constraints:
                    nullable: true
              - column:
                  name: department
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: salary
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: job_grade
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: job
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_working
                  type: BOOLEAN
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_careers_resume_id
            tableName: careers

        - createTable:
            tableName: projects
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: true
              - column:
                  name: role
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_projects_resume_id
            tableName: projects

        - createTable:
            tableName: salaries
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: amount
                  type: BIGINT
                  constraints:
                    nullable: true
              - column:
                  name: negotiation_date
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: career_id
            indexName: idx_salaries_career_id
            tableName: salaries

        - createTable:
            tableName: educations
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: major
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: status
                  type: VARCHAR(32)
                  constraints:
                    nullable: true
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_educations_resume_id
            tableName: educations

        - createTable:
            tableName: attachments
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: file_name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: file_url
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_attachments_resume_id
            tableName: attachments

        - createTable:
            tableName: activities
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(32)
                  constraints:
                    nullable: true
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: organization
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: certificate_number
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_activities_resume_id
            tableName: activities

        - createTable:
            tableName: language_skills
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: language
                  type: VARCHAR(64)
                  constraints:
                    nullable: true
              - column:
                  name: level
                  type: VARCHAR(256)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_language_skills_resume_id
            tableName: language_skills

        - createTable:
            tableName: language_tests
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: score
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: acquired_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: language_skill_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: language_skill_id
            indexName: idx_language_tests_language_skill_id
            tableName: language_tests

        - createTable:
            tableName: accounts
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: VARCHAR(256)
                  constraints:
                    nullable: true
              - column:
                  name: provider_id
                  type: VARCHAR(518)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: type
            indexName: idx_accounts_type
            tableName: accounts
        - createIndex:
            columns:
              - column:
                  name: provider_id
            indexName: idx_accounts_provider_id
            tableName: accounts

        - createTable:
            tableName: job_searches
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: true
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: prev_career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: true
              - column:
                  name: next_career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: worker_id
              - column:
                  name: started_at
              - column:
                  name: ended_at
            indexName: idx_job_searches_worker_id_started_at_ended_at
            tableName: job_searches

        - createTable:
            tableName: job_search_companies
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: status
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: applied_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: closed_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: industry
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: business_size
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: location
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: link
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: job_search_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: job_search_id
            indexName: idx_job_search_companies_job_search_id
            tableName: job_search_companies

        - createTable:
            tableName: interviews
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: true
              - column:
                  name: type
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: job_search_company_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: job_search_company_id
            indexName: idx_interviews_job_search_company_id
            tableName: interviews

        - createTable:
            tableName: system_configs
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: value
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: type
              - column:
                  name: worker_id
            indexName: idx_system_configs_type_worker_id
            tableName: system_configs
