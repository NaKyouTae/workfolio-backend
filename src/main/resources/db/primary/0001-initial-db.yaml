databaseChangeLog:
  - changeSet:
      id: 1
      author: kyutae
      changes:
        - createTable:
            tableName: workers
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: nick_name
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
                    unique: true
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: name
            indexName: idx_workers_name
            tableName: workers
        - createIndex:
            columns:
              - column:
                  name: nick_name
            indexName: idx_workers_nick_name
            tableName: workers
            unique: true

        - createTable:
            tableName: record_groups
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: color
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: is_default
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: public_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: type
                  type: VARCHAR(32)
                  constraints:
                    nullable: false
              - column:
                  name: priority
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: public_id
            indexName: idx_record_groups_public_id
            tableName: record_groups
        - createIndex:
            columns:
              - column:
                  name: worker_id
            indexName: idx_record_groups_worker_id
            tableName: record_groups

        - createTable:
            tableName: records
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: record_group_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: true
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: title
            indexName: idx_records_title
            tableName: records
        - createIndex:
            columns:
              - column:
                  name: record_group_id
            indexName: idx_records_record_group_id
            tableName: records
        - createIndex:
            columns:
              - column:
                  name: record_group_id
              - column:
                  name: started_at
            indexName: idx_records_record_group_id_started_at
            tableName: records

        - createTable:
            tableName: worker_record_groups
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: public_id
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: record_group_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: public_id
            indexName: idx_worker_record_groups_public_id
            tableName: worker_record_groups
        - createIndex:
            columns:
              - column:
                  name: worker_id
            indexName: idx_worker_record_groups_worker_id
            tableName: worker_record_groups
        - createIndex:
            columns:
              - column:
                  name: record_group_id
            indexName: idx_worker_record_groups_record_group_id
            tableName: worker_record_groups
        - createIndex:
            columns:
              - column:
                  name: worker_id
              - column:
                  name: record_group_id
            indexName: idx_worker_record_groups_worker_id_record_group_id
            tableName: worker_record_groups

        - createTable:
            tableName: resumes
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: phone
                  type: VARCHAR(32)
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: VARCHAR(516)
                  constraints:
                    nullable: false
              - column:
                  name: is_public
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: is_default
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: public_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: worker_id
            indexName: idx_resumes_type_worker_id
            tableName: resumes

        - createTable:
            tableName: careers
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: position
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: employment_type
                  type: VARCHAR(32)
                  constraints:
                    nullable: false
              - column:
                  name: department
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_working
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: name
            indexName: idx_careers_name
            tableName: careers
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_careers_resume_id
            tableName: careers

        - createTable:
            tableName: projects
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: career_id
            indexName: idx_projects_career_id
            tableName: projects

        - createTable:
            tableName: salaries
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: amount
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: negotiation_date
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: career_id
            indexName: idx_salaries_career_id
            tableName: salaries

        - createTable:
            tableName: educations
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: agency
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: name
            indexName: idx_educations_name
            tableName: educations
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_educations_resume_id
            tableName: educations

        - createTable:
            tableName: degrees
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: major
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: status
                  type: VARCHAR(32)
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: name
            indexName: idx_degrees_name
            tableName: degrees
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_degrees_resume_id
            tableName: degrees

        - createTable:
            tableName: certifications
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: number
                  type: VARCHAR(1028)
                  constraints:
                    nullable: false
              - column:
                  name: issuer
                  type: VARCHAR(1028)
                  constraints:
                    nullable: false
              - column:
                  name: issued_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: expiration_period
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: is_visible
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: name
            indexName: idx_certifications_name
            tableName: certifications
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_certifications_resume_id
            tableName: certifications

        - createTable:
            tableName: links
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: url
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: is_visible
                  type: BOOL
                  constraints:
                    nullable: false
              - column:
                  name: resume_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: resume_id
            indexName: idx_links_resume_id
            tableName: links

        - createTable:
            tableName: accounts
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(256)
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: VARCHAR(256)
                  constraints:
                    nullable: true
              - column:
                  name: provider_id
                  type: VARCHAR(518)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: type
            indexName: idx_accounts_type
            tableName: accounts
        - createIndex:
            columns:
              - column:
                  name: provider_id
            indexName: idx_accounts_provider_id
            tableName: accounts

        - createTable:
            tableName: job_searches
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: true
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: prev_career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: true
              - column:
                  name: next_career_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: true
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: worker_id
              - column:
                  name: started_at
              - column:
                  name: ended_at
            indexName: idx_job_searches_worker_id_started_at_ended_at
            tableName: job_searches

        - createTable:
            tableName: job_search_companies
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: status
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: applied_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: closed_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: industry
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: business_size
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: location
                  type: VARCHAR(512)
                  constraints:
                    nullable: true
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: link
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: job_search_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: job_search_id
            indexName: idx_job_search_companies_job_search_id
            tableName: job_search_companies

        - createTable:
            tableName: interviews
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: title
                  type: VARCHAR(1024)
                  constraints:
                    nullable: true
              - column:
                  name: type
                  type: VARCHAR(128)
                  constraints:
                    nullable: false
              - column:
                  name: started_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: ended_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: true
              - column:
                  name: memo
                  type: TEXT
                  constraints:
                    nullable: true
              - column:
                  name: job_search_company_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: job_search_company_id
            indexName: idx_interviews_job_search_company_id
            tableName: interviews

        - createTable:
            tableName: system_configs
            columns:
              - column:
                  name: id
                  type: VARCHAR(16)
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: type
                  type: VARCHAR(512)
                  constraints:
                    nullable: false
              - column:
                  name: value
                  type: VARCHAR(1024)
                  constraints:
                    nullable: false
              - column:
                  name: worker_id
                  type: VARCHAR(16)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: TIMESTAMP(6)
                  constraints:
                    nullable: false
        - createIndex:
            columns:
              - column:
                  name: type
              - column:
                  name: worker_id
            indexName: idx_system_configs_type_worker_id
            tableName: system_configs
