syntax = "proto3";

import "common.proto";

package com.spectrum.workfolio.proto;

option java_multiple_files = true;
option java_package = "com.spectrum.workfolio.proto.uitemplate";
option java_outer_classname = "UITemplateProto";

// Public API responses
message UITemplateListResponse {
  repeated UITemplate ui_templates = 1;
}

message UITemplateGetResponse {
  UITemplate ui_template = 1;
}

// Authenticated API responses
message WorkerUITemplateListResponse {
  repeated WorkerUITemplate worker_ui_templates = 1;
  int32 total_elements = 2;
  int32 total_pages = 3;
  int32 current_page = 4;
}

message WorkerUITemplateGetResponse {
  WorkerUITemplate worker_ui_template = 1;
}

// Purchase request/response
message UITemplatePurchaseRequest {
  string ui_template_id = 1;
  optional string plan_id = 2;
}

message UITemplatePurchaseResponse {
  WorkerUITemplate worker_ui_template = 1;
  int32 credits_used = 2;
  int32 balance_after = 3;
}

// Check template ownership
message UITemplateOwnershipResponse {
  bool owns_ui_template = 1;
  optional WorkerUITemplate worker_ui_template = 2;
}

// Active templates for a specific type
message ActiveUITemplatesResponse {
  repeated WorkerUITemplate worker_ui_templates = 1;
}

// Default UI template
message DefaultUITemplateResponse {
  optional UITemplate default_url_ui_template = 1;
  optional UITemplate default_pdf_ui_template = 2;
}

// Admin API
message AdminUITemplateCreateRequest {
  string name = 1;
  optional string description = 2;
  string type = 3;
  optional string label = 4;
  int32 price = 5;
  int32 duration_days = 6;
  optional string url_path = 7;
  bool is_active = 8;
  bool is_popular = 9;
  int32 display_order = 10;
}

message AdminUITemplateUpdateRequest {
  string id = 1;
  string name = 2;
  optional string description = 3;
  string type = 4;
  optional string label = 5;
  int32 price = 6;
  int32 duration_days = 7;
  optional string url_path = 8;
  bool is_active = 9;
  bool is_popular = 10;
  int32 display_order = 11;
}

message AdminUITemplateImageListResponse {
  repeated UITemplateImage images = 1;
}

// Admin Plan CRUD
message AdminUiTemplatePlanCreateRequest {
  int32 duration_days = 1;
  int32 price = 2;
  int32 display_order = 3;
}

message AdminUiTemplatePlanUpdateRequest {
  string id = 1;
  int32 duration_days = 2;
  int32 price = 3;
  int32 display_order = 4;
}

message AdminUiTemplatePlanGetResponse {
  UiTemplatePlan plan = 1;
}
